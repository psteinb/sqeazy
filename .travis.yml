sudo: required
dist: trusty

language: java
jdk:
  - oraclejdk8

before_install:
  #############################################################################
  # FFMPEG                                                                    #
  #############################################################################
  - sudo add-apt-repository -y ppa:mc3man/trusty-media
  - sudo apt-get -qq update
  - sudo apt-get install -y ffmpeg libx264-dev x264  libx265-dev x265 cmake libtiff5-dev libhdf5-dev liblz4-dev libavcodec-dev  libavdevice-dev  libavfilter-dev  libavformat-dev  libavutil-dev   libswscale-dev wget bzip2 libbz2-dev
  - ffmpeg -version
  
  #############################################################################
  # CMAKE                                                                     #
  #############################################################################
  - CMAKE_33_FOUND=$(cmake --version | grep " 3\.3\." >/dev/null && { echo 0; } || { echo 1; })
  - export CMAKE_ROOT=/tmp/cmake
  - if [ $CMAKE_33_FOUND -ne 0 ]; then
      mkdir -p $CMAKE_ROOT &&
      cd $CMAKE_ROOT &&
      travis_retry wget --no-check-certificate http://www.cmake.org/files/v3.3/cmake-3.3.2-Linux-x86_64.tar.gz &&
      tar -xzf cmake-3.3.2-Linux-x86_64.tar.gz &&
      sudo cp -r cmake-3.3.2-Linux-x86_64/* /usr
      rm -rf cmake-3.3.2-Linux-x86_64.tar.gz cmake-3.3.2-Linux-x86_64 &&
      cd -;
    fi
  - cmake --version
  
  #############################################################################
  # BOOST                                                                     #
  #############################################################################
  - travis_retry wget --no-check-certificate -O boost.tar.bz2 http://sourceforge.net/projects/boost/files/boost/1.58.0/boost_1_58_0.tar.bz2/download
  - tar xf boost.tar.bz2
  - cd boost_1_*/
  - sudo ./bootstrap.sh --with-toolset=gcc --with-libraries=date_time,system,filesystem,test,thread,program_options
  - sudo ./b2 -j2
  - sudo ./b2 install && cd .. && rm -rf boost_1_*/
  

  #############################################################################
  # GRADLE                                                                     #
  #############################################################################
  - sudo add-apt-repository -y ppa:cwchien/gradle
  - sudo apt-get -qq update
  - sudo apt-get install gradle-2.11
  - gradle --version

script:
  - ls -lrth
  - ./let_me_build_that_for_you.sh

  

